<?php
    require "inc/header.php";
?>

    <div class="insights_page-container" style="margin-top:70px;">
        <div class="home_page-container__categories">
            <div onmouseover="sevicesFadeIn()" onmouseout="sevicesFadeOut()" class="home_page-container__categories-sevices">
                Tất cả dịch vụ <i class="fa-solid fa-plus"></i>
                <div class="home_page-container__categories-sevices-list">
                    <a href="./work_page.php?=chienluoc" class="home_page-container__categories-sevices-list-item">
                        Chiến lược
                    </a>
                    <a href="./work_page.php?=datten" class="home_page-container__categories-sevices-list-item">
                        Đặt tên
                    </a>
                    <a href="./work_page.php?=khauhieu" class="home_page-container__categories-sevices-list-item">
                        Khẩu hiệu
                    </a>
                    <a href="./work_page.php?=logo" class="home_page-container__categories-sevices-list-item">
                        Logo
                    </a>
                    <a href="./work_page.php?=bonhandangthuonghieu" class="home_page-container__categories-sevices-list-item">
                        Bộ nhận dạng thương hiệu
                    </a>
                    <a href="./work_page.php?=baobi" class="home_page-container__categories-sevices-list-item">
                        Bao bì
                    </a>
                    <a href="./work_page.php?=chiendich" class="home_page-container__categories-sevices-list-item">
                        Chiến dịch
                    </a>
                    <a href="./work_page.php?=kithuatso" class="home_page-container__categories-sevices-list-item">
                        Kĩ thuật số
                    </a>
                    <a href="./work_page.php?=bientap" class="home_page-container__categories-sevices-list-item">
                        Biên tập
                    </a>
                    <a href="./work_page.php?=khonggiantrienlam" class="home_page-container__categories-sevices-list-item">
                        Không gian triển lãm
                    </a>
                    <a href="./work_page.php?=chuphinhdoanhnghiep" class="home_page-container__categories-sevices-list-item">
                        Chụp hình doanh nghiệp
                    </a>
                    <a href="./work_page.php?=inan" class="home_page-container__categories-sevices-list-item">
                        In ấn
                    </a>
                </div>
            </div>
            <div onmouseover="careerFadeIn()" onmouseout="careerFadeOut()" class="home_page-container__categories-career">
                Tất cả ngành <i class="fa-solid fa-plus"></i>
                <div class="home_page-container__categories-career-list">
                    <a href="./work_page.php?=sanphamtieudungvagiadung" class="home_page-container__categories-career-list-item">
                        Sản phẩm tiêu dùng và gia dụng
                    </a>
                    <a href="./work_page.php?=congnghiepvasanxuat" class="home_page-container__categories-career-list-item">
                        Công nghiệp và sản xuất
                    </a>
                    <a href="./work_page.php?=ruouvangvaruoumanh" class="home_page-container__categories-career-list-item">
                        Rượu vang và rượu mạnh
                    </a>
                    <a href="./work_page.php?=dichvuvataichinh" class="home_page-container__categories-career-list-item">
                        Dịch vụ và tài chính
                    </a>
                    <a href="./work_page.php?=vantai" class="home_page-container__categories-career-list-item">
                        Vận tải
                    </a>
                    <a href="./work_page.php?=nangluongvatienich" class="home_page-container__categories-career-list-item">
                        Năng lượng và tiện ích
                    </a>
                    <a href="./work_page.php?=chamsocsuckhoevaduocpham" class="home_page-container__categories-career-list-item">
                        Chăm sóc sức khỏe và dược phẩm
                    </a>
                    <a href="./work_page.php?=thucphamvadouong" class="home_page-container__categories-career-list-item">
                        Thực phẩm và đồ uống
                    </a>
                    <a href="./work_page.php?=cactochucphiloinhuan" class="home_page-container__categories-career-list-item">
                        Các tổ chức phi lợi nhuận
                    </a>
                    <a href="./work_page.php?=truyenthongvagiaitri" class="home_page-container__categories-career-list-item">
                        Truyền thông và giải trí
                    </a>
                    <a href="./work_page.php?=dichvukhachhang" class="home_page-container__categories-career-list-item">
                        Dịch vụ khách hàng
                    </a>
                    <a href="./work_page.php?=thoitrangvabanle" class="home_page-container__categories-career-list-item">
                        Thời trang và bán lẻ
                    </a>
                    <a href="./work_page.php?=dichvuchuyennghiep" class="home_page-container__categories-career-list-item">
                        Dịch vụ chuyên nghiệp
                    </a>
                    <a href="./work_page.php?=diaoc" class="home_page-container__categories-career-list-item">
                        Địa ốc
                    </a>
                    <a href="./work_page.php?=nongnghiep" class="home_page-container__categories-career-list-item">
                        Nông nghiệp
                    </a>
                    <a href="./work_page.php?=dichvuvaresort" class="home_page-container__categories-career-list-item">
                        Du lịch và resort
                    </a>
                    <a href="./work_page.php?=congnghe" class="home_page-container__categories-career-list-item">
                        Công nghệ
                    </a>
                    <a href="./work_page.php?=kientrucvaxaydung" class="home_page-container__categories-career-list-item">
                        Kiến trúc và xây dựng
                    </a>
                </div>
            </div>
        </div>

        <div class="work_page-container__header">
            <p class="work_page-container__header-title">
                Hiểu biết
            </p>
            <i class="work_page-container__header-icon fa-solid fa-arrow-right"></i>
            <div class="work_page-container__header-slogan">
                ĐỂ TIẾP TỤC ĐỔI MỚI, CHÚNG TÔI LUÔN SUY NGHĨ, CHIA SẺ VÀ TRANH LUẬN
            </div>
        </div>

        <div class="insights_page-container__title" style="padding-top:120px;">
            <div class="insights_page-container__title-socail">
                <i class="fa-brands fa-facebook"></i>
                <i class="fa-brands fa-behance"></i>
                <i class="fa-brands fa-instagram"></i>
                <i class="fa-brands fa-linkedin"></i>
                <i class="fa-brands fa-twitter"></i>
                <i class="fa-brands fa-youtube"></i>
                <i class="fa-brands fa-pinterest"></i>
            </div>
            <div class="insights_page-container__title-discover">
                <p>Khám phá những hiểu biết mới</p>
                <i class="fa-solid fa-plus"></i>
            </div>
        </div>

        <div class="work_page-container__products">
            <?php
                $sql = "SELECT * FROM `insights`";
                $query = mysqli_query($conn,$sql);
                while($row = mysqli_fetch_array($query)){

            ?>
            <div class="home_page-container__product-list-item">
                <img class="home_page-container__product-list-item-img" src="./insights_database/img/<?= $row["img"] ?>" alt="">
                <div class="home_page-container__product-list-item-overlay">
                    <div class="home_page-container__product-list-item-overlay-name">
                        <?= $row["insight"] ?>
                    </div>
                    <div class="home_page-container__product-list-item-overlay-career">
                        Danh mục
                    </div>
                    <div class="home_page-container__product-list-item-overlay-sevices">
                        <?= $row["sevices"] ?>
                    </div>
                    <div class="home_page-container__product-list-item-overlay-view">
                        <i class="fa-solid fa-eye"></i>
                    </div>
                    <i class="fa-solid fa-arrow-right home_page-container__product-list-item-overlay-arrow"></i>
                </div>
            </div>
            
            <?php }?>
        </div>
        <div class="work_page-container__more-product">
            <button onclick="loadMore()" class="work_page-container__more-product-btn">
                Khám phá thêm
            </button>
        </div>
        <div class="work_page-container__insights">
            <i class="work_page-container__insights-icon fa-solid fa-arrow-right" style="top:48px"></i>
            <a href="./about-us_page.php" class="work_page-container__insights-slogan">
                Giới thiệu
            </a>
        </div>
    </div>
<?php
    $insight_arr = [];
    $sql = "SELECT * FROM `insights`";
    $query = mysqli_query($conn,$sql);
    while($row = mysqli_fetch_array($query)){
        $insight_arr[] = $row;
    }
    require "inc/footer.php";
?>
<script>
    var insight_arr = <?php echo json_encode($insight_arr);?>;
    for(var i = 21; i <= insight_arr.length; i++){
        insight = document.querySelector(`.home_page-container__product-list-item:nth-child(${i})`);
        insight.setAttribute("style","display:none;");
    }

    var numberOfinsight = 20;
    function loadMore(){
        for(var i = numberOfinsight+1; i <= numberOfinsight+5; i++){
            insight = document.querySelector(`.home_page-container__product-list-item:nth-child(${i})`);
            insight.setAttribute("style","display:block;");
        }
        numberOfinsight += 10;
    }

function sevicesFadeIn(){
    document.querySelector(".home_page-container__categories-sevices-list").setAttribute("style","height:440px; transition: all linear 0.3s;");
    document.querySelector(".home_page-container__categories-sevices i").classList.remove("fa-plus");
    document.querySelector(".home_page-container__categories-sevices i").classList.add("fa-minus");
    document.querySelector(".work_page-container__header").setAttribute("style","margin-top:340px; transition: all linear 0.3s;");
}

function sevicesFadeOut(){
    document.querySelector(".home_page-container__categories-sevices-list").setAttribute("style","height:0px; transition: all linear 0.3s;");
    document.querySelector(".home_page-container__categories-sevices i").classList.remove("fa-minus");
    document.querySelector(".home_page-container__categories-sevices i").classList.add("fa-plus");
    document.querySelector(".work_page-container__header").setAttribute("style","margin-top:0px; transition: all linear 0.3s;");
}

function careerFadeIn(){
    document.querySelector(".home_page-container__categories-career-list").setAttribute("style","height:440px; transition: all linear 0.3s;");
    document.querySelector(".home_page-container__categories-career i").classList.remove("fa-plus");
    document.querySelector(".home_page-container__categories-career i").classList.add("fa-minus");
    document.querySelector(".work_page-container__header").setAttribute("style","margin-top:440px; transition: all linear 0.3s;");
}

function careerFadeOut(){
    document.querySelector(".home_page-container__categories-career-list").setAttribute("style","height:0px; transition: all linear 0.3s;");
    document.querySelector(".home_page-container__categories-career i").classList.remove("fa-minus");
    document.querySelector(".home_page-container__categories-career i").classList.add("fa-plus");
    document.querySelector(".work_page-container__header").setAttribute("style","margin-top:0px; transition: all linear 0.3s;");
}
</script>